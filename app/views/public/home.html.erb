<section class="hero">
  <div class="hero__content">
    <p class="hero__eyebrow">MyQuote</p>
    <h1 class="hero__title">Where timeless wisdom meets modern elegance.</h1>
    <p class="hero__subtitle">Discover quotes curated by our community, save your favourites, and explore the minds of legendary philosophers with a refined reading experience.</p>
    <div class="hero__actions">
      <%= link_to "Browse Quotes", public_quotes_path, class: "button button--primary" %>
      <%= link_to "Share Your Insight", new_quote_path, class: "button button--ghost" if logged_in? %>
      <% unless logged_in? %>
        <%= link_to "Create an account", new_user_path, class: "button button--ghost" %>
      <% end %>
    </div>
  </div>
  <div class="hero__card">
    <p class="hero__card-label">Featured Thought</p>
    <% if @quotes.first %>
      <% quote = @quotes.first %>
      <article class="quote-card quote-card--featured" data-quote-modal-trigger>
        <blockquote class="quote-card__blockquote">
          <p class="quote-card__text">“<%= quote.text %>”</p>
        </blockquote>
        <footer class="quote-card__meta">
          <p class="quote-card__meta-line">
            <span class="quote-card__meta-author"><%= [quote.philosopher.first_name, quote.philosopher.last_name].compact.join(' ') %></span>
            <span class="quote-card__meta-contributor">Shared by <%= quote.user.first_name %></span>
          </p>
        </footer>
        <div class="quote-card__modal-content" data-quote-modal-content hidden>
          <dl class="quote-modal__details">
            <div>
              <dt>Philosopher</dt>
              <dd>
                <%= [quote.philosopher.first_name, quote.philosopher.last_name].compact.join(' ') %>
                <% if quote.philosopher.birth_year.present? || quote.philosopher.death_year.present? %>
                  <span class="quote-modal__years">(<%= [quote.philosopher.birth_year, quote.philosopher.death_year].compact.join(' – ') %>)</span>
                <% end %>
              </dd>
            </div>
            <div>
              <dt>Shared by</dt>
              <dd><%= quote.user.first_name %></dd>
            </div>
            <% if quote.philosopher.biography.present? %>
              <div>
                <dt>About the philosopher</dt>
                <dd><%= quote.philosopher.biography %></dd>
              </div>
            <% end %>
            <% if quote.publication_year.present? %>
              <div>
                <dt>Publication year</dt>
                <dd><%= quote.publication_year %></dd>
              </div>
            <% end %>
            <% if quote.user_comment.present? %>
              <div>
                <dt>Reflection</dt>
                <dd><%= quote.user_comment %></dd>
              </div>
            <% end %>
            <% if quote.categories.any? %>
              <div>
                <dt>Categories</dt>
                <dd>
                  <% quote.categories.each do |category| %>
                    <span class="tag"><%= category.name %></span>
                  <% end %>
                </dd>
              </div>
            <% end %>
          </dl>
        </div>
      </article>
    <% else %>
      <p class="hero__card-empty">No public quotes yet—be the first to contribute.</p>
    <% end %>
  </div>
</section>

<section class="section">
  <header class="section__header">
    <h2 class="section__title">Recently added</h2>
    <p class="section__subtitle">Fresh perspectives from our community, updated in real-time.</p>
  </header>

  <% if @quotes.any? %>
    <ol class="quote-grid">
      <% @quotes.each do |quote| %>
        <li class="quote-grid__item">
          <article class="quote-card quote-card--elevated" data-quote-modal-trigger>
            <blockquote class="quote-card__blockquote">
              <p class="quote-card__text">“<%= quote.text %>”</p>
            </blockquote>
            <footer class="quote-card__meta">
              <p class="quote-card__meta-line">
                <span class="quote-card__meta-author"><%= [quote.philosopher.first_name, quote.philosopher.last_name].compact.join(' ') %></span>
                <span class="quote-card__meta-contributor">Shared by <%= quote.user.first_name %></span>
              </p>
            </footer>
          <div class="quote-card__modal-content" data-quote-modal-content hidden>
            <dl class="quote-modal__details">
              <div>
                <dt>Philosopher</dt>
                <dd>
                  <%= [quote.philosopher.first_name, quote.philosopher.last_name].compact.join(' ') %>
                  <% if quote.philosopher.birth_year.present? || quote.philosopher.death_year.present? %>
                    <span class="quote-modal__years">(<%= [quote.philosopher.birth_year, quote.philosopher.death_year].compact.join(' – ') %>)</span>
                  <% end %>
                </dd>
              </div>
              <div>
                <dt>Shared by</dt>
                <dd><%= quote.user.first_name %></dd>
              </div>
              <% if quote.philosopher.biography.present? %>
                <div>
                  <dt>About the philosopher</dt>
                  <dd><%= quote.philosopher.biography %></dd>
                </div>
              <% end %>
              <% if quote.publication_year.present? %>
                <div>
                  <dt>Publication year</dt>
                  <dd><%= quote.publication_year %></dd>
                </div>
              <% end %>
              <% if quote.user_comment.present? %>
                <div>
                  <dt>Reflection</dt>
                  <dd><%= quote.user_comment %></dd>
                </div>
              <% end %>
              <% if quote.categories.any? %>
                <div>
                  <dt>Categories</dt>
                  <dd>
                    <% quote.categories.each do |category| %>
                      <span class="tag"><%= category.name %></span>
                    <% end %>
                  </dd>
                </div>
              <% end %>
            </dl>
          </div>
          </article>
        </li>
      <% end %>
    </ol>
  <% else %>
    <p class="empty-state">No public quotes available yet. <%= link_to "Share one", new_quote_path if logged_in? %></p>
  <% end %>
</section>
